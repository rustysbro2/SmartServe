<!DOCTYPE html>
<html>
  <head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body>
    <div class="container">
      <h1>Welcome to the Dashboard</h1>

      <div class="menu-icon" onclick="toggleDropdown()">
        <span></span>
        <span></span>
        <span></span>
      </div>

      <div class="dropdown" id="dropdownMenu">
        <div class="dropdown-content">
          <a href="#">Link 1</a>
          <a href="#">Link 2</a>
          <a href="#">Link 3</a>
        </div>
      </div>

      <div class="profile-info">
        <% if (user) { %>
          <h2>Welcome, <%= user.username %>!</h2>
          <p>User ID: <%= user.id %></p>
        <% } else { %>
          <p>User not logged in.</p>
        <% } %>
      </div>

      <div class="debug-info">
        <span>Window Width:</span> <span id="windowWidth"></span>
      </div>
      <div class="debug-info">
        <span>Menu Icon Display:</span> <span id="menuIconDisplay"></span>
      </div>
      <div class="debug-info">
        <span>Dropdown Display:</span> <span id="dropdownDisplay"></span>
      </div>
      <div class="debug-info">
        <span>Debug Message:</span> <span id="debugMessage"></span>
      </div>
    </div>

    <script>
      function toggleDropdown() {
        const dropdownMenu = document.getElementById("dropdownMenu");
        dropdownMenu.classList.toggle("show");

        updateDebugInfo(); // Update debug info when the dropdown is toggled
      }

      function updateDebugInfo() {
        // Get the debug elements
        const windowWidthElement = document.getElementById("windowWidth");
        const menuIconDisplayElement = document.getElementById("menuIconDisplay");
        const dropdownDisplayElement = document.getElementById("dropdownDisplay");
        const debugMessageElement = document.getElementById("debugMessage");

        // Update debug info with current values
        windowWidthElement.textContent = window.innerWidth;
        menuIconDisplayElement.textContent = window.getComputedStyle(document.querySelector('.menu-icon')).display;
        dropdownDisplayElement.textContent = window.getComputedStyle(document.querySelector('.dropdown-content')).display;

        // Update debug message based on menu display property
        const menuDisplay = window.getComputedStyle(document.querySelector('.dropdown')).display;
        if (menuDisplay === 'none') {
          debugMessageElement.textContent = "Menu is not showing on this screen size.";
        } else {
          debugMessageElement.textContent = "";
        }
      }

      // Debug: Output initial debug info
      updateDebugInfo();

      // Debug: Log window resize events
      window.addEventListener('resize', updateDebugInfo);
    </script>
  </body>
</html>
